{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///customizer.min.js","webpack:///webpack/bootstrap c4d0dd426d35b439d931","webpack:///./src/index.js","webpack:///./src/i18n.js","webpack:///./src/observator.js","webpack:///./src/text_nodes.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","value","_i18n","_i18n2","_observator","_observator2","_text_nodes","_text_nodes2","stringsProvider","strings","es_ES","greeting","en_UK","getString","lang","key","customizable","language","skin","Observable","textNodes","document","body","observe","console","log","init","watch","changeLanguage","changeSkin","reset","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","protoProps","staticProps","I18n","_strings","_language","set","dataObj","i18n","signalHandler","signals","push","notify","signal","forEach","makeReactive","val","newVal","data","replaceText","node","text","textContent","syncNodeText","observable","textGetter","TextNodes","parent","nodes","_this","querySelectorAll","textNode","attributes","t","bind"],"mappings":"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","file":"customizer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Customizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Customizer\"] = factory();\n\telse\n\t\troot[\"Customizer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Customizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Customizer\"] = factory();\n\telse\n\t\troot[\"Customizer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _i18n = __webpack_require__(1);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _observator = __webpack_require__(2);\n\nvar _observator2 = _interopRequireDefault(_observator);\n\nvar _text_nodes = __webpack_require__(3);\n\nvar _text_nodes2 = _interopRequireDefault(_text_nodes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar stringsProvider = function () {\n  var strings = { 'es_ES': { 'greeting': 'Hola' }, 'en_UK': { 'greeting': 'Hi' } };\n\n  return {\n    getString: function getString(lang, key) {\n      return strings[lang][key];\n    }\n  };\n}();\nvar lang = new _i18n2.default(stringsProvider, 'es_ES');\nvar customizable = { 'language': lang.language, 'skin': 'ruralvia' };\nvar Observable = (0, _observator2.default)(customizable);\nvar textNodes = new _text_nodes2.default(document.body, lang, Observable);\n\nObservable.observe('language', function () {\n  lang.language = customizable.language;\n});\nObservable.observe('skin', function () {\n  console.log('Modificado skin');\n});\n\nexports.default = {\n  init: function init() {\n    textNodes.watch();\n  },\n  changeLanguage: function changeLanguage(lang) {\n    customizable.language = lang;\n  },\n  changeSkin: function changeSkin(skin) {\n    customizable.skin = skin;\n  },\n  reset: function reset() {\n    textNodes.reset();\n  }\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LANG_DEFAULT = 'es_ES';\n\nvar I18n = function () {\n  function I18n(stringsProvider, language) {\n    _classCallCheck(this, I18n);\n\n    this._strings = stringsProvider;\n    this._language = language;\n  }\n\n  _createClass(I18n, [{\n    key: 't',\n    value: function t(key) {\n      return this._strings.getString(this._language || LANG_DEFAULT, key);\n    }\n  }, {\n    key: 'language',\n    get: function get() {\n      return this._language;\n    },\n    set: function set(language) {\n      this._language = language;\n      console.log('Changed language to ' + language);\n    }\n  }]);\n\n  return I18n;\n}();\n\nexports.default = I18n;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (dataObj, i18n) {\n  var signals = {};\n\n  function observe(property, signalHandler) {\n    if (!signals[property]) signals[property] = [];\n\n    signals[property].push(signalHandler);\n  }\n\n  function notify(signal) {\n    if (!signals[signal] || signals[signal].length < 1) return;\n\n    signals[signal].forEach(function (signalHandler) {\n      return signalHandler();\n    });\n  }\n\n  function makeReactive(obj, key) {\n    var val = obj[key];\n\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        return val;\n      },\n      set: function set(newVal) {\n        val = newVal;\n        notify(key);\n      }\n    });\n  }\n\n  function observeData(obj) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        makeReactive(obj, key);\n      }\n    }\n  }\n\n  observeData(dataObj);\n\n  return {\n    data: dataObj,\n    observe: observe,\n    notify: notify\n  };\n};\n\n; /* eslint-disable */\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ATTR_NAME = 'data-translate';\n\nfunction replaceText(node, text) {\n  node.textContent = text || node.textContent;\n}\n\nfunction syncNodeText(node, observable, property, textGetter) {\n  replaceText(node, textGetter(property));\n  observable.observe('language', function callback() {\n    replaceText(node, textGetter(property));\n  });\n}\n\nvar TextNodes = function () {\n  function TextNodes(parent, i18n, observable) {\n    _classCallCheck(this, TextNodes);\n\n    this.parent = parent;\n    this.i18n = i18n;\n    this.observable = observable;\n    this.nodes = [];\n  }\n\n  _createClass(TextNodes, [{\n    key: 'watch',\n    value: function watch() {\n      var _this = this;\n\n      this.nodes = this.parent.querySelectorAll('[' + ATTR_NAME + ']:not([' + ATTR_NAME + '=\"\"])');\n      // const styles = document.querySelector('link#skin');\n\n      // syncStyles(styles, observable);\n\n      this.nodes.forEach(function (textNode) {\n        syncNodeText(textNode, _this.observable, textNode.attributes['' + ATTR_NAME].value, _this.i18n.t.bind(_this.i18n));\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.nodes = [];\n    }\n  }]);\n\n  return TextNodes;\n}();\n\nexports.default = TextNodes;\n;\n\n/*\n function _replaceStyle(styles, style) {\n   styles.setAttribute('href',\n   styles.getAttribute('href').replace(/css\\/(.*?.min.css)/g, 'css/' + style + '.min.css'));\n }\n\n function syncStyles(styles, observable) {\n   _replaceStyle(styles, observable.styles);\n   _observe('styles', function cb() {\n    _replaceStyle(styles, observable.styles);\n  });\n }\n */\n// parseDOM(document.body, App.data);\n\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// customizer.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c4d0dd426d35b439d931","import I18n from './i18n';\nimport Observator from './observator';\nimport TextNodes from './text_nodes';\n\nconst stringsProvider = (function () {\n  const strings = {'es_ES': {'greeting': 'Hola'}, 'en_UK': {'greeting': 'Hi'}};\n\n  return {\n    getString(lang, key) {\n      return strings[lang][key];\n    }\n  };\n})();\nconst lang = new I18n(stringsProvider, 'es_ES');\nconst customizable = { 'language': lang.language, 'skin': 'ruralvia' };\nconst Observable = Observator(customizable);\nconst textNodes = new TextNodes(document.body, lang, Observable);\n\nObservable.observe('language', () => { lang.language = customizable.language; });\nObservable.observe('skin', () => { console.log('Modificado skin'); });\n\nexport default {\n  init() {\n    textNodes.watch();\n  },\n  changeLanguage(lang) {\n    customizable.language = lang;\n  },\n  changeSkin(skin) {\n    customizable.skin = skin;\n  },\n  reset() {\n    textNodes.reset();\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const LANG_DEFAULT = 'es_ES';\n\nexport default class I18n {\n  constructor(stringsProvider, language) {\n    this._strings = stringsProvider;\n    this._language = language;\n  }\n\n  get language() {\n    return this._language;\n  }\n\n  set language(language) {\n    this._language = language;\n    console.log('Changed language to ' + language);\n  }\n\n  t(key) {\n    return this._strings.getString(this._language || LANG_DEFAULT, key);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js","/* eslint-disable */\nexport default function (dataObj, i18n) {\n  let signals = {};\n\n  function observe(property, signalHandler) {\n    if (!signals[property]) signals[property] = [];\n\n    signals[property].push(signalHandler);\n  }\n\n  function notify(signal) {\n    if (!signals[signal] || signals[signal].length < 1) return;\n\n    signals[signal].forEach((signalHandler) => signalHandler());\n  }\n\n  function makeReactive(obj, key) {\n    let val = obj[key];\n\n    Object.defineProperty(obj, key, {\n      get() {\n        return val;\n      },\n      set(newVal) {\n        val = newVal;\n        notify(key);\n      }\n    });\n  }\n\n  function observeData(obj) {\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        makeReactive(obj, key);\n      }\n    }\n  }\n\n  observeData(dataObj);\n\n  return {\n    data: dataObj,\n    observe,\n    notify\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/observator.js","const ATTR_NAME = 'data-translate';\n\nfunction replaceText(node, text) {\n  node.textContent = text || node.textContent;\n}\n\nfunction syncNodeText(node, observable, property, textGetter) {\n  replaceText(node, textGetter(property));\n  observable.observe('language', function callback() {\n    replaceText(node, textGetter(property));\n  });\n}\n\nexport default class TextNodes {\n  constructor(parent, i18n, observable) {\n    this.parent = parent;\n    this.i18n = i18n;\n    this.observable = observable;\n    this.nodes = [];\n  }\n\n  watch() {\n    this.nodes = this.parent.querySelectorAll(`[${ATTR_NAME}]:not([${ATTR_NAME}=\"\"])`);\n    // const styles = document.querySelector('link#skin');\n\n    // syncStyles(styles, observable);\n\n    this.nodes.forEach((textNode) => {\n      syncNodeText(textNode, this.observable, textNode.attributes[`${ATTR_NAME}`].value, this.i18n.t.bind(this.i18n));\n    });\n  }\n\n  reset() {\n    this.nodes = [];\n  }\n};\n\n/*\n function _replaceStyle(styles, style) {\n   styles.setAttribute('href',\n   styles.getAttribute('href').replace(/css\\/(.*?.min.css)/g, 'css/' + style + '.min.css'));\n }\n\n function syncStyles(styles, observable) {\n   _replaceStyle(styles, observable.styles);\n   _observe('styles', function cb() {\n    _replaceStyle(styles, observable.styles);\n  });\n }\n */\n// parseDOM(document.body, App.data);\n\n\n\n// WEBPACK FOOTER //\n// ./src/text_nodes.js"],"sourceRoot":""}