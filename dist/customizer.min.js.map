{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///customizer.min.js","webpack:///webpack/bootstrap 92e62ca1cfc3f28746b5","webpack:///./src/index.js","webpack:///./src/i18n.js","webpack:///./src/observator.js","webpack:///./src/styles.js","webpack:///./src/text_nodes.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","value","_i18n","_i18n2","_observator","_observator2","_styles","_styles2","_text_nodes","_text_nodes2","customizable","textNodes","checkStringsProvider","stringsProvider","undefined","getString","TypeError","init","config","Observable","defaults","language","skin","lang","styles","document","querySelector","body","observe","syncStyles","watch","changeLanguage","changeSkin","reset","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","I18n","_strings","_language","set","dataObj","signalHandler","signals","push","notify","signal","forEach","makeReactive","val","newVal","data","replaceStyle","stylesLink","style","setAttribute","getAttribute","replace","observable","_this","replaceText","node","text","str","textContent","constructor","String","Promise","then","syncNodeText","textGetter","TextNodes","parent","i18n","nodes","querySelectorAll","textNode","attributes","t","bind"],"mappings":"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","file":"customizer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Customizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Customizer\"] = factory();\n\telse\n\t\troot[\"Customizer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Customizer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Customizer\"] = factory();\n\telse\n\t\troot[\"Customizer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _i18n = __webpack_require__(1);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _observator = __webpack_require__(2);\n\nvar _observator2 = _interopRequireDefault(_observator);\n\nvar _styles = __webpack_require__(3);\n\nvar _styles2 = _interopRequireDefault(_styles);\n\nvar _text_nodes = __webpack_require__(4);\n\nvar _text_nodes2 = _interopRequireDefault(_text_nodes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar customizable = null;\n\nvar textNodes = null;\n\nvar checkStringsProvider = function checkStringsProvider(stringsProvider) {\n  if (!stringsProvider || stringsProvider.getString === undefined) {\n    throw TypeError('stringsProvider debe implementar el método getString');\n  }\n};\n\nexports.default = {\n  init: function init(stringsProvider, config) {\n    var Observable = void 0;\n    var defaults = { 'language': 'es_ES', 'skin': 'styles' };\n\n    customizable = config || defaults;\n    checkStringsProvider(stringsProvider);\n\n    var lang = new _i18n2.default(stringsProvider, customizable.language);\n    var styles = document.querySelector('link#skin');\n\n    Observable = (0, _observator2.default)(customizable);\n    textNodes = new _text_nodes2.default(document.body, lang, Observable);\n\n    Observable.observe('language', function () {\n      lang.language = customizable.language;\n    });\n\n    if (styles) {\n      _styles2.default.syncStyles(styles, Observable);\n    }\n    textNodes.watch();\n  },\n  changeLanguage: function changeLanguage(lang) {\n    customizable.language = lang;\n  },\n  changeSkin: function changeSkin(skin) {\n    customizable.skin = skin;\n  },\n  reset: function reset() {\n    textNodes.reset();\n  }\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LANG_DEFAULT = 'es_ES';\n\nvar I18n = function () {\n  function I18n(stringsProvider, language) {\n    _classCallCheck(this, I18n);\n\n    this._strings = stringsProvider;\n    this._language = language;\n  }\n\n  _createClass(I18n, [{\n    key: 't',\n    value: function t(key) {\n      return this._strings.getString(this._language || LANG_DEFAULT, key);\n    }\n  }, {\n    key: 'language',\n    get: function get() {\n      return this._language;\n    },\n    set: function set(language) {\n      this._language = language;\n    }\n  }]);\n\n  return I18n;\n}();\n\nexports.default = I18n;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (dataObj) {\n  var signals = {};\n\n  function observe(property, signalHandler) {\n    if (!signals[property]) signals[property] = [];\n\n    signals[property].push(signalHandler);\n  }\n\n  function notify(signal) {\n    if (!signals[signal] || signals[signal].length < 1) return;\n\n    signals[signal].forEach(function (signalHandler) {\n      return signalHandler();\n    });\n  }\n\n  function makeReactive(obj, key) {\n    var val = obj[key];\n\n    Object.defineProperty(obj, key, {\n      get: function get() {\n        return val;\n      },\n      set: function set(newVal) {\n        val = newVal;\n        notify(key);\n      }\n    });\n  }\n\n  function observeData(obj) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        makeReactive(obj, key);\n      }\n    }\n  }\n\n  observeData(dataObj);\n\n  return {\n    data: dataObj,\n    observe: observe,\n    notify: notify\n  };\n};\n\n;\nmodule.exports = exports[\"default\"];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  replaceStyle: function replaceStyle(stylesLink, style) {\n    stylesLink.setAttribute('href', stylesLink.getAttribute('href').replace(/(\\/css\\/)(\\w+)()/g, '$1' + style + '$3'));\n  },\n  syncStyles: function syncStyles(styles, observable) {\n    var _this = this;\n\n    this.replaceStyle(styles, observable.data.skin);\n    observable.observe('skin', function () {\n      _this.replaceStyle(styles, observable.data.skin);\n    });\n  }\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ATTR_NAME = 'data-translate';\n\nfunction replaceText(node, text) {\n  var replace = function replace(str) {\n    node.textContent = str || node.textContent;\n  };\n\n  if (text.constructor !== String && text.constructor !== Promise) {\n    throw TypeError('El m\\xE9todo getString debe devolver un String o una Promise pero est\\xE1 devolviendo ' + text.constructor.name);\n  }\n\n  if (text.constructor === Promise) {\n    text.then(replace);\n  } else {\n    replace(text);\n  }\n}\n\nfunction syncNodeText(node, observable, property, textGetter) {\n  replaceText(node, textGetter(property));\n  observable.observe('language', function callback() {\n    replaceText(node, textGetter(property));\n  });\n}\n\nvar TextNodes = function () {\n  function TextNodes(parent, i18n, observable) {\n    _classCallCheck(this, TextNodes);\n\n    this.parent = parent;\n    this.i18n = i18n;\n    this.observable = observable;\n    this.nodes = [];\n  }\n\n  _createClass(TextNodes, [{\n    key: 'watch',\n    value: function watch() {\n      var _this = this;\n\n      this.nodes = this.parent.querySelectorAll('[' + ATTR_NAME + ']:not([' + ATTR_NAME + '=\"\"])');\n\n      this.nodes.forEach(function (textNode) {\n        syncNodeText(textNode, _this.observable, textNode.attributes['' + ATTR_NAME].value, _this.i18n.t.bind(_this.i18n));\n      });\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.nodes = [];\n    }\n  }]);\n\n  return TextNodes;\n}();\n\nexports.default = TextNodes;\n;\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// customizer.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 92e62ca1cfc3f28746b5","import I18n from './i18n';\nimport Observator from './observator';\nimport Styles from './styles';\nimport TextNodes from './text_nodes';\n\nlet customizable = null;\n\nlet textNodes = null;\n\nconst checkStringsProvider = (stringsProvider) => {\n  if (!stringsProvider || stringsProvider.getString === undefined) {\n    throw TypeError('stringsProvider debe implementar el método getString');\n  }\n};\n\nexport default {\n  init(stringsProvider, config) {\n    let Observable;\n    const defaults = { 'language': 'es_ES', 'skin': 'styles' };\n\n    customizable = config || defaults;\n    checkStringsProvider(stringsProvider);\n\n    const lang = new I18n(stringsProvider, customizable.language);\n    const styles = document.querySelector('link#skin');\n\n    Observable = Observator(customizable);\n    textNodes = new TextNodes(document.body, lang, Observable);\n\n    Observable.observe('language', () => { lang.language = customizable.language; });\n\n    if (styles) {\n      Styles.syncStyles(styles, Observable);\n    }\n    textNodes.watch();\n  },\n\n  changeLanguage(lang) {\n    customizable.language = lang;\n  },\n\n  changeSkin(skin) {\n    customizable.skin = skin;\n  },\n\n  reset() {\n    textNodes.reset();\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const LANG_DEFAULT = 'es_ES';\n\nexport default class I18n {\n  constructor(stringsProvider, language) {\n    this._strings = stringsProvider;\n    this._language = language;\n  }\n\n  get language() {\n    return this._language;\n  }\n\n  set language(language) {\n    this._language = language;\n  }\n\n  t(key) {\n    return this._strings.getString(this._language || LANG_DEFAULT, key);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js","export default function (dataObj) {\n  let signals = {};\n\n  function observe(property, signalHandler) {\n    if (!signals[property]) signals[property] = [];\n\n    signals[property].push(signalHandler);\n  }\n\n  function notify(signal) {\n    if (!signals[signal] || signals[signal].length < 1) return;\n\n    signals[signal].forEach((signalHandler) => signalHandler());\n  }\n\n  function makeReactive(obj, key) {\n    let val = obj[key];\n\n    Object.defineProperty(obj, key, {\n      get() {\n        return val;\n      },\n      set(newVal) {\n        val = newVal;\n        notify(key);\n      }\n    });\n  }\n\n  function observeData(obj) {\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        makeReactive(obj, key);\n      }\n    }\n  }\n\n  observeData(dataObj);\n\n  return {\n    data: dataObj,\n    observe,\n    notify\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/observator.js","export default {\n  replaceStyle(stylesLink, style) {\n    stylesLink.setAttribute('href',\n      stylesLink.getAttribute('href').replace(/(\\/css\\/)(\\w+)()/g, `$1${style}$3`));\n  },\n\n  syncStyles(styles, observable) {\n    this.replaceStyle(styles, observable.data.skin);\n    observable.observe('skin', () => {\n      this.replaceStyle(styles, observable.data.skin);\n    });\n  }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/styles.js","const ATTR_NAME = 'data-translate';\n\nfunction replaceText(node, text) {\n  const replace = (str) => { node.textContent = str || node.textContent;};\n\n  if (text.constructor !== String && text.constructor !== Promise) {\n    throw TypeError(\n      `El método getString debe devolver un String o una Promise pero está devolviendo ${text.constructor.name}`);\n  }\n\n  if (text.constructor === Promise) {\n    text.then(replace);\n  } else {\n    replace(text);\n  }\n}\n\nfunction syncNodeText(node, observable, property, textGetter) {\n  replaceText(node, textGetter(property));\n  observable.observe('language', function callback() {\n    replaceText(node, textGetter(property));\n  });\n}\n\nexport default class TextNodes {\n  constructor(parent, i18n, observable) {\n    this.parent = parent;\n    this.i18n = i18n;\n    this.observable = observable;\n    this.nodes = [];\n  }\n\n  watch() {\n    this.nodes = this.parent.querySelectorAll(`[${ATTR_NAME}]:not([${ATTR_NAME}=\"\"])`);\n\n    this.nodes.forEach((textNode) => {\n      syncNodeText(textNode, this.observable, textNode.attributes[`${ATTR_NAME}`].value, this.i18n.t.bind(this.i18n));\n    });\n  }\n\n  reset() {\n    this.nodes = [];\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/text_nodes.js"],"sourceRoot":""}